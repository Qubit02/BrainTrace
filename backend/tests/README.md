# BrainT ì±„íŒ… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸

ì´ í´ë”ëŠ” BrainT ì±„íŒ… ì‹œìŠ¤í…œì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤.

## ğŸ“ í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°

```
tests/
â”œâ”€â”€ brain_tests/                 # Brain API í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_brain_api.py
â”‚   â””â”€â”€ run_brain_tests.py
â”œâ”€â”€ chat_tests/                  # ì±„íŒ… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_chat_integration.py
â”‚   â”œâ”€â”€ test_chat_api.py
â”‚   â””â”€â”€ run_chat_tests.py
â”œâ”€â”€ neo4j_tests/                 # Neo4j ë™ê¸°í™” í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_neo4j_sync.py
â”œâ”€â”€ frontend_tests/              # í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_frontend_integration.py
â”œâ”€â”€ file_tests/                  # íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ docx/                    # DOCX íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ test_docx_integration.py
â”‚   â”‚   â””â”€â”€ run_docx_tests.py
â”‚   â”œâ”€â”€ pdf/                     # PDF íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ test_pdf_integration.py
â”‚   â”œâ”€â”€ textfile/                # TextFile ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ test_textfile_integration.py
â”‚   â””â”€â”€ mds/                     # MDS(Markdown) íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ test_mds_integration.py
â”œâ”€â”€ memo_tests/                  # Memo ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_memo_integration.py
â”œâ”€â”€ test_utils.py                # í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ run_all_tests.py             # ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ run_file_tests.py            # íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ install_dependencies.py      # ì˜ì¡´ì„± ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ __init__.py
â””â”€â”€ README.md                    # ì´ íŒŒì¼
```

## ğŸ“ í…ŒìŠ¤íŠ¸ í´ë” êµ¬ì¡°

í…ŒìŠ¤íŠ¸ëŠ” ê¸°ëŠ¥ë³„ë¡œ í´ë”ë¡œ êµ¬ë¶„ë˜ì–´ ìˆì–´ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œë˜ì—ˆì„ ë•Œ ì–´ë–¤ ì½”ë“œì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì¸ì§€ ì‰½ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í´ë”ë³„ ì„¤ëª…
- **`brain_tests/`**: Brain API ê´€ë ¨ í…ŒìŠ¤íŠ¸ (ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ, ì±„íŒ… ì—°ë™)
- **`chat_tests/`**: ì±„íŒ… ì‹œìŠ¤í…œ ê´€ë ¨ í…ŒìŠ¤íŠ¸ (ì„¸ì…˜ ê´€ë¦¬, ì§ˆë¬¸-ë‹µë³€, ì±„íŒ… ë‚´ì—­, API í…ŒìŠ¤íŠ¸)
- **`neo4j_tests/`**: Neo4j ë°ì´í„°ë² ì´ìŠ¤ ë™ê¸°í™” ë° ë…¸ë“œ ê´€ë¦¬ í…ŒìŠ¤íŠ¸
- **`frontend_tests/`**: í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ê°„ í†µí•© í…ŒìŠ¤íŠ¸
- **`file_tests/`**: íŒŒì¼ ì²˜ë¦¬ ê´€ë ¨ í…ŒìŠ¤íŠ¸
  - **`docx/`**: Microsoft Word ë¬¸ì„œ(.docx) ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
  - **`pdf/`**: PDF ë¬¸ì„œ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
  - **`textfile/`**: í…ìŠ¤íŠ¸ íŒŒì¼(.txt) ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
  - **`mds/`**: Markdown íŒŒì¼(.md) ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
- **`memo_tests/`**: ë©”ëª¨ CRUD ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

## ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•

### 1. ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
cd backend/tests
python run_all_tests.py
```

### 2. ê¸°ëŠ¥ë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ì±„íŒ… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ë§Œ
python chat_tests/run_chat_tests.py

# íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ë§Œ (ì„ íƒ ê°€ëŠ¥)
python run_file_tests.py [file|memo|all]

# íŠ¹ì • íŒŒì¼ íƒ€ì… í…ŒìŠ¤íŠ¸ë§Œ
python file_tests/docx/run_docx_tests.py
```

### 3. ê°œë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
cd backend/tests

# Brain API í…ŒìŠ¤íŠ¸
python brain_tests/test_brain_api.py

# ì±„íŒ… í†µí•© í…ŒìŠ¤íŠ¸
python chat_tests/test_chat_integration.py

# ì±„íŒ… API í…ŒìŠ¤íŠ¸
python chat_tests/test_chat_api.py

# Neo4j ë™ê¸°í™” í…ŒìŠ¤íŠ¸
python neo4j_tests/test_neo4j_sync.py

# í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸
python frontend_tests/test_frontend_integration.py

# Brain API í…ŒìŠ¤íŠ¸
python brain_tests/run_brain_tests.py

# ì±„íŒ… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
python chat_tests/run_chat_tests.py

# Neo4j ë™ê¸°í™” í…ŒìŠ¤íŠ¸
python neo4j_tests/test_neo4j_sync.py

# í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸
python frontend_tests/test_frontend_integration.py

# DOCX íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
python file_tests/docx/run_docx_tests.py

# PDF íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
python file_tests/pdf/test_pdf_integration.py

# TextFile ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
python file_tests/textfile/test_textfile_integration.py

# MDS(Markdown) íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
python file_tests/mds/test_mds_integration.py

# Memo ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
python memo_tests/test_memo_integration.py

# íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰ (ì„ íƒ ê°€ëŠ¥)
python run_file_tests.py [file|memo|all]
```

## ğŸ”„ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë° ìë™ ë°ì´í„° ì •ë¦¬

### í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œ

ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” **íŠ¸ëœì­ì…˜ ì²˜ë¦¬**ë¥¼ í†µí•´ ì‹¤í–‰ë˜ë©°, í…ŒìŠ¤íŠ¸ ì¤‘ ìƒì„±ëœ ëª¨ë“  ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ì •ë¦¬ë©ë‹ˆë‹¤.

#### ğŸ¯ ì£¼ìš” íŠ¹ì§•
- **ìë™ ë°ì´í„° ì¶”ì **: í…ŒìŠ¤íŠ¸ ì¤‘ ìƒì„±ëœ ëª¨ë“  IDë¥¼ ìë™ìœ¼ë¡œ ê¸°ë¡
- **ìˆœì„œë³„ ì •ë¦¬**: ì˜ì¡´ì„±ì„ ê³ ë ¤í•˜ì—¬ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ë°ì´í„° ì‚­ì œ
- **ì—ëŸ¬ ì²˜ë¦¬**: ì •ë¦¬ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
- **ìƒì„¸ ë¡œê¹…**: ì–´ë–¤ ë°ì´í„°ê°€ ì •ë¦¬ë˜ì—ˆëŠ”ì§€ ëª…í™•íˆ í‘œì‹œ

#### ğŸ“Š ì •ë¦¬ ìˆœì„œ
1. **ì±„íŒ… ë©”ì‹œì§€** ì‚­ì œ
2. **ì±„íŒ… ì„¸ì…˜** ì‚­ì œ  
3. **ì—…ë¡œë“œëœ íŒŒì¼** ì‚­ì œ
4. **ë©”ëª¨** ì‚­ì œ
5. **Brain** ì‚­ì œ (ë§ˆì§€ë§‰ì— ì‚­ì œ - ë‹¤ë¥¸ ë°ì´í„°ë“¤ì´ ì°¸ì¡°)

#### ğŸ’» ì‚¬ìš© ë°©ë²•

```python
# íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ ë§¤ë‹ˆì € ì‚¬ìš©
from test_utils import test_transaction

with test_transaction(BASE_URL) as data_manager:
    # í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    test_instance = TestBrainApi(data_manager)
    test_instance.test_brain_creation()
    # ì‹¤íŒ¨í•˜ë“  ì„±ê³µí•˜ë“  ìë™ìœ¼ë¡œ ëª¨ë“  ë°ì´í„° ì •ë¦¬
```

#### ğŸ§¹ TestDataManager í´ë˜ìŠ¤

```python
class TestDataManager:
    def add_brain_id(self, brain_id: int)      # Brain ID ì¶”ê°€
    def add_session_id(self, session_id: int)  # ì„¸ì…˜ ID ì¶”ê°€
    def add_chat_id(self, chat_id: int)        # ì±„íŒ… ID ì¶”ê°€
    def add_memo_id(self, memo_id: int)        # ë©”ëª¨ ID ì¶”ê°€
    def add_file_id(self, file_id: int, file_type: str)  # íŒŒì¼ ID ì¶”ê°€
    def cleanup_all(self)                      # ëª¨ë“  ë°ì´í„° ì •ë¦¬
```

#### âœ… ì ìš©ëœ í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
- âœ… `brain_tests/test_brain_api.py`
- âœ… `chat_tests/test_chat_api.py`
- âœ… `memo_tests/test_memo_integration.py`
- âœ… `file_tests/docx/test_docx_integration.py`
- âœ… `file_tests/pdf/test_pdf_integration.py`
- âœ… `file_tests/textfile/test_textfile_integration.py`
- âœ… `file_tests/mds/test_mds_integration.py`

#### ğŸ‰ ì¥ì 
- **ë°ì´í„° ì •ë¦¬ ë³´ì¥**: í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œì—ë„ ìƒì„±ëœ ë°ì´í„°ê°€ ì •ë¦¬ë¨
- **í…ŒìŠ¤íŠ¸ ê²©ë¦¬**: ê° í…ŒìŠ¤íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë¨
- **ë°ì´í„°ë² ì´ìŠ¤ ê¹¨ë—í•¨**: í…ŒìŠ¤íŠ¸ í›„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ê¹¨ë—í•œ ìƒíƒœë¡œ ìœ ì§€ë¨
- **ê°œë°œ íš¨ìœ¨ì„±**: ìˆ˜ë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë¦¬í•  í•„ìš”ê°€ ì—†ìŒ

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ì „ì œ ì¡°ê±´

### ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰
í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤:

```bash
cd backend
python main.py
```

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
- Neo4j ë°ì´í„°ë² ì´ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤
- Qdrant ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•©ë‹ˆë‹¤
- SQLite ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ ìƒì„±ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤

### í…ŒìŠ¤íŠ¸ ë°ì´í„°
- `brain_id=1`ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ë°ì´í„°ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
- "ì•ˆì˜ˆì°¬", "ê°•ì•„ì§€", "íƒœì–‘" ë“±ì˜ ë…¸ë“œê°€ ì €ì¥ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë‚´ìš©

### 1. test_brain_api.py
**Brain API í…ŒìŠ¤íŠ¸**

- âœ… Brain ìƒì„± ë° ì¡°íšŒ
- âœ… Brain ëª©ë¡ ì¡°íšŒ
- âœ… Brain ìˆ˜ì • ë° ì‚­ì œ
- âœ… ì—¬ëŸ¬ Brain ìƒì„±
- âœ… Brainê³¼ ì±„íŒ… í†µí•©
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 2. test_chat_integration.py
**ì±„íŒ… ì‹œìŠ¤í…œ í†µí•© í…ŒìŠ¤íŠ¸**

- âœ… ì±„íŒ… ì„¸ì…˜ ìƒì„±/ì¡°íšŒ/ì‚­ì œ
- âœ… ì§ˆë¬¸-ë‹µë³€ ê¸°ëŠ¥
- âœ… ì±„íŒ… ë‚´ì—­ ì €ì¥/ì¡°íšŒ
- âœ… ì—¬ëŸ¬ ì§ˆë¬¸ ì—°ì† ì²˜ë¦¬
- âœ… Neo4j ë™ê¸°í™” ê¸°ëŠ¥

### 3. test_chat_api.py
**Chat API í…ŒìŠ¤íŠ¸**

- âœ… ì±„íŒ… ì„¸ì…˜ CRUD (ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ)
- âœ… ì±„íŒ… ë©”ì‹œì§€ CRUD
- âœ… ì±„íŒ… ë‚´ì—­ ì¡°íšŒ
- âœ… ì—¬ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬
- âœ… Brainê³¼ ì±„íŒ… í†µí•©
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 4. test_neo4j_sync.py
**Neo4j ë™ê¸°í™” ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**

- âœ… ì„ë² ë”© ë²¡í„° DB â†’ Neo4j ë™ê¸°í™”
- âœ… brain_id ë¬¸ìì—´ ë³€í™˜ ì²˜ë¦¬
- âœ… brain_idë³„ ë…¸ë“œ ì¡°íšŒ
- âœ… ì°¸ì¡° ë…¸ë“œ ì¶”ì¶œ
- âœ… source_id ë§¤í•‘

### 5. test_frontend_integration.py
**í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸**

- âœ… ì±„íŒ… ì„¸ì…˜ ìƒì„± ë° ì„ íƒ
- âœ… ChatPanel ê¸°ëŠ¥
- âœ… ì„¸ì…˜ ëª©ë¡ ê¸°ëŠ¥
- âœ… brain_id ì¼ê´€ì„±
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 4. test_docx_integration.py
**DOCX íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**

- âœ… DOCX íŒŒì¼ ì—…ë¡œë“œ
- âœ… DOCX íŒŒì¼ ì²˜ë¦¬ ë° ë‚´ìš© ì¶”ì¶œ
- âœ… ë…¸ë“œ ìƒì„± ë° ê·¸ë˜í”„ ì—°ë™
- âœ… ì±„íŒ…ê³¼ì˜ í†µí•©
- âœ… íŒŒì¼ ëª©ë¡ ì¡°íšŒ
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 5. test_pdf_integration.py
**PDF íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**

- âœ… PDF íŒŒì¼ ì—…ë¡œë“œ
- âœ… PDF íŒŒì¼ ì²˜ë¦¬ ë° ë‚´ìš© ì¶”ì¶œ
- âœ… ë…¸ë“œ ìƒì„± ë° ê·¸ë˜í”„ ì—°ë™
- âœ… ì±„íŒ…ê³¼ì˜ í†µí•©
- âœ… íŒŒì¼ ëª©ë¡ ì¡°íšŒ
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 6. test_textfile_integration.py
**TextFile ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**

- âœ… TextFile ì—…ë¡œë“œ
- âœ… TextFile ì²˜ë¦¬ ë° ë‚´ìš© ì¶”ì¶œ
- âœ… ë…¸ë“œ ìƒì„± ë° ê·¸ë˜í”„ ì—°ë™
- âœ… ì±„íŒ…ê³¼ì˜ í†µí•©
- âœ… íŒŒì¼ ëª©ë¡ ì¡°íšŒ
- âœ… ì¸ì½”ë”© ì²˜ë¦¬
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 7. test_memo_integration.py
**Memo ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**

- âœ… Memo ìƒì„± ë° ìˆ˜ì •
- âœ… Memo ì²˜ë¦¬ ë° ë…¸ë“œ ìƒì„±
- âœ… ë‚´ìš© ì¡°íšŒ ë° ëª©ë¡ ê´€ë¦¬
- âœ… ì±„íŒ…ê³¼ì˜ í†µí•©
- âœ… ì—¬ëŸ¬ ë©”ëª¨ ìƒì„±
- âœ… ì—ëŸ¬ ì²˜ë¦¬

### 8. test_mds_integration.py
**MDS(Markdown) íŒŒì¼ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸**

- âœ… MDS íŒŒì¼ ì—…ë¡œë“œ
- âœ… MDS íŒŒì¼ ì²˜ë¦¬ ë° ë‚´ìš© ì¶”ì¶œ
- âœ… ë…¸ë“œ ìƒì„± ë° ê·¸ë˜í”„ ì—°ë™
- âœ… ì±„íŒ…ê³¼ì˜ í†µí•©
- âœ… íŒŒì¼ ëª©ë¡ ì¡°íšŒ
- âœ… Markdown ë¬¸ë²• ì²˜ë¦¬
- âœ… ì—ëŸ¬ ì²˜ë¦¬

## ğŸ”§ í…ŒìŠ¤íŠ¸ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜
```bash
# í…ŒìŠ¤íŠ¸ ì„¤ì • (í•„ìš”ì‹œ ìˆ˜ì •)
BASE_URL = "http://localhost:8000"
TEST_BRAIN_ID = 1
```

### ì˜ì¡´ì„±
```bash
# ìë™ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
python install_dependencies.py

# ë˜ëŠ” ìˆ˜ë™ ì„¤ì¹˜
pip install requests python-docx reportlab PyPDF2 markdown
```

### API ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ì •ì‚¬í•­
í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤ì´ ì‹¤ì œ API ì—”ë“œí¬ì¸íŠ¸ì— ë§ê²Œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤:

- **DOCX**: `/docx/upload` â†’ `/docx/upload-docx`
- **PDF**: `/pdf/upload` â†’ `/pdfs/upload`
- **TextFile**: `/textfile/upload` â†’ `/textfiles/upload-txt`
- **MDS**: `/mds/upload` â†’ `/mds/upload-md`
- **Memo**: í•„ë“œëª… ìˆ˜ì • (`title` â†’ `memo_title`, `content` â†’ `memo_text`)

### íŒŒì¼ ì—…ë¡œë“œ í˜•ì‹
- íŒŒì¼ ì—…ë¡œë“œ ì‹œ `files` íŒŒë¼ë¯¸í„° ì‚¬ìš© (ë‹¨ì¼ íŒŒì¼ë„ ë°°ì—´ë¡œ ì „ì†¡)
- ë³„ë„ ì²˜ë¦¬ ì—”ë“œí¬ì¸íŠ¸ëŠ” ì—†ìœ¼ë©°, ì—…ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë¨

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ í•´ì„

### ì„±ê³µ ì¼€ì´ìŠ¤
```
âœ… ì±„íŒ… ì„¸ì…˜ ìƒì„± ì„±ê³µ: session_id=1
âœ… ì§ˆë¬¸-ë‹µë³€ ì„±ê³µ: ì•ˆì˜ˆì°¬ì€ ì‚¬ëŒì˜ ì´ë¦„ì´ë‹¤...
âœ… ì°¸ì¡° ë…¸ë“œ: ['ì•ˆì˜ˆì°¬']
```

### ì‹¤íŒ¨ ì¼€ì´ìŠ¤
```
âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: Connection refused
âŒ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: 404 Not Found
```

## ğŸ› ë¬¸ì œ í•´ê²°

### 1. ë°±ì—”ë“œ ì„œë²„ ì—°ê²° ì‹¤íŒ¨
```bash
# ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
curl http://localhost:8000/docs
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
# Neo4j ìƒíƒœ í™•ì¸
# Qdrant ìƒíƒœ í™•ì¸
# SQLite íŒŒì¼ ì¡´ì¬ í™•ì¸
```

### 3. í…ŒìŠ¤íŠ¸ ë°ì´í„° ë¶€ì¡±
```bash
# í…ŒìŠ¤íŠ¸ìš© ë°ì´í„° ì—…ë¡œë“œ
# brain_id=1ì— ë…¸ë“œ ë°ì´í„° ì¶”ê°€
```

## ğŸ“ í…ŒìŠ¤íŠ¸ ì¶”ê°€ ë°©ë²•

ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ë ¤ë©´:

1. ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
2. `TestClass` í´ë˜ìŠ¤ ì •ì˜ (íŠ¸ëœì­ì…˜ ì²˜ë¦¬ í¬í•¨)
3. `test_*` ë©”ì„œë“œ ì‘ì„±
4. `run_all_tests.py`ì— íŒŒì¼ëª… ì¶”ê°€

### ê¸°ë³¸ í…œí”Œë¦¿

```python
import requests
import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
from test_utils import TestDataManager, test_transaction

class TestNewFeature:
    def __init__(self, data_manager: TestDataManager = None):
        self.data_manager = data_manager or TestDataManager()
    
    def test_new_functionality(self):
        # í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
        response = requests.get("http://localhost:8000/api/endpoint")
        assert response.status_code == 200
        
        # ìƒì„±ëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ê´€ë¦¬ìì— ì¶”ê°€
        if "id" in response.json():
            self.data_manager.add_brain_id(response.json()["id"])
    
    def cleanup(self):
        # ë°ì´í„° ê´€ë¦¬ìê°€ ìë™ìœ¼ë¡œ ì •ë¦¬í•¨
        pass

if __name__ == "__main__":
    # íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¡œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    with test_transaction("http://localhost:8000") as data_manager:
        test_instance = TestNewFeature(data_manager)
        test_instance.test_new_functionality()
```

### íŠ¸ëœì­ì…˜ ì²˜ë¦¬ í•„ìˆ˜ì‚¬í•­

- ëª¨ë“  í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” `TestDataManager`ë¥¼ ë°›ì•„ì•¼ í•¨
- ìƒì„±ëœ ë°ì´í„° IDëŠ” `data_manager.add_*_id()` ë©”ì„œë“œë¡œ ì¶”ê°€
- `cleanup()` ë©”ì„œë“œëŠ” ìë™ ì •ë¦¬ë¥¼ ìœ„í•´ ë¹„ì›Œë‘ 
- `__main__` ë¸”ë¡ì—ì„œëŠ” `test_transaction` ì»¨í…ìŠ¤íŠ¸ ë§¤ë‹ˆì € ì‚¬ìš©

## ğŸ¯ í…ŒìŠ¤íŠ¸ ëª©í‘œ

ì´ í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸ëŠ” ë‹¤ìŒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤:

1. **ê¸°ëŠ¥ ê²€ì¦**: ëª¨ë“  ì£¼ìš” ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸
2. **í†µí•© í…ŒìŠ¤íŠ¸**: ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°„ ì—°ë™ í™•ì¸
3. **ì—ëŸ¬ ì²˜ë¦¬**: ì˜ˆì™¸ ìƒí™©ì—ì„œ ì ì ˆí•œ ì²˜ë¦¬ í™•ì¸
4. **ì„±ëŠ¥ í™•ì¸**: ì‘ë‹µ ì‹œê°„ê³¼ ì²˜ë¦¬ëŸ‰ í™•ì¸
5. **ë°ì´í„° ì¼ê´€ì„±**: ë°ì´í„°ë² ì´ìŠ¤ ê°„ ë™ê¸°í™” í™•ì¸

## ğŸ“‹ í´ë” êµ¬ì¡°ì˜ ì¥ì 

### 1. **ëª…í™•í•œ ë¶„ë¥˜**
- ê° ê¸°ëŠ¥ë³„ë¡œ í…ŒìŠ¤íŠ¸ê°€ ë¶„ë¦¬ë˜ì–´ ìˆì–´ ì–´ë–¤ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ëª…í™•
- ìƒˆë¡œìš´ ê°œë°œìê°€ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰¬ì›€

### 2. **ì„ íƒì  ì‹¤í–‰**
- í•„ìš”í•œ ê¸°ëŠ¥ì˜ í…ŒìŠ¤íŠ¸ë§Œ ì„ íƒì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- ê°œë°œ ì¤‘ íŠ¹ì • ê¸°ëŠ¥ë§Œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©

### 3. **ìœ ì§€ë³´ìˆ˜ì„±**
- ê¸°ëŠ¥ë³„ë¡œ í…ŒìŠ¤íŠ¸ê°€ ë¶„ë¦¬ë˜ì–´ ìˆì–´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›€
- ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€ ì‹œ ì ì ˆí•œ í´ë”ì— ë°°ì¹˜í•˜ë©´ ë¨

### 4. **ì˜¤í”ˆì†ŒìŠ¤ ì¹œí™”ì **
- ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œë˜ì—ˆì„ ë•Œ ì–´ë–¤ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ”ì§€ ëª…í™•
- ê¸°ì—¬ìê°€ ì‰½ê²Œ ì´í•´í•˜ê³  ì°¸ì—¬í•  ìˆ˜ ìˆìŒ

### 5. **í™•ì¥ì„±**
- ìƒˆë¡œìš´ íŒŒì¼ íƒ€ì…ì´ë‚˜ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œ í•´ë‹¹ í´ë”ì— í…ŒìŠ¤íŠ¸ ì¶”ê°€
- ê¸°ì¡´ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©´ì„œ í™•ì¥ ê°€ëŠ¥

## ğŸ“ ì§€ì›

í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ë©´:

1. ë°±ì—”ë“œ ì„œë²„ ë¡œê·¸ í™•ì¸
2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìƒíƒœ í™•ì¸
3. í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„ ìƒíƒœ í™•ì¸
4. ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ í™•ì¸ 